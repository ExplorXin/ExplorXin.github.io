[{"title":"git 操作命令","path":"/20260121/t97pxq/","content":"操作一、仓库初始化与克隆1. 初始化新仓库git init # 初始化当前目录为 Git 仓库git init directory # 在指定目录初始化git init --bare # 创建裸仓库（用于远程仓库） 2. 克隆现有仓库git clone url # 克隆仓库到当前目录git clone url folder # 克隆到指定文件夹git clone --depth 1 url # 浅克隆（只获取最新提交）git clone --branch branch url # 克隆指定分支 二、基本工作流操作1. 检查状态git status # 查看工作区和暂存区状态git status -s # 简洁模式git status --short # 同上 2. 添加到暂存区git add file # 添加指定文件git add . # 添加所有新文件和修改的文件git add -A # 添加所有文件（包括删除）git add -u # 只添加已跟踪文件的修改和删除git add *.js # 添加匹配模式的文件git add --patch # 交互式添加部分修改 3. 提交更改git commit -m \"message\" # 提交并添加描述git commit -am \"message\" # 添加所有修改并提交（跳过 git add）git commit --amend # 修改最后一次提交git commit --amend -m \"新消息\" # 修改最后一次提交信息git commit --allow-empty # 创建空提交 4. 查看历史git log # 查看提交历史git log --oneline # 简洁的单行显示git log --graph # 图形化显示分支合并git log --stat # 显示文件修改统计git log -p # 显示具体修改内容git log -n 5 # 只显示最近5次提交git log --since=\"2023-01-01\" # 按时间筛选git log --author=\"name\" # 按作者筛选git log --grep=\"关键字\" # 按提交信息筛选git log file # 查看文件的提交历史 三、分支管理1. 查看分支git branch # 查看本地分支git branch -a # 查看所有分支（包括远程）git branch -r # 查看远程分支git branch -v # 查看分支及最新提交git branch -vv # 查看分支及跟踪关系 2. 创建分支git branch name # 创建新分支git branch name commit # 从指定提交创建分支git checkout -b name # 创建并切换到新分支git switch -c name # Git 2.23+ 创建并切换 3. 切换分支git checkout branch # 切换到分支git switch branch # Git 2.23+ 切换分支git checkout - # 切换到上一个分支 4. 合并分支git merge branch # 合并指定分支到当前分支git merge --no-ff branch # 禁用快速合并（保留合并历史）git merge --squash branch # 压缩合并（合并为一次提交）git merge --abort # 终止合并（解决冲突时） 5. 删除分支git branch -d branch # 删除已合并的分支git branch -D branch # 强制删除分支git push origin --delete branch # 删除远程分支 四、远程仓库操作1. 管理远程仓库git remote # 查看远程仓库git remote -v # 查看远程仓库及 URLgit remote add name url # 添加远程仓库git remote remove name # 删除远程仓库git remote rename old new # 重命名远程仓库git remote set-url name url # 修改远程仓库 URL 2. 拉取和推送git fetch # 从远程获取最新信息（不合并）git fetch remote # 从指定远程获取git fetch --prune # 获取并清理已删除的远程分支git pull # 获取并合并到当前分支git pull remote branch # 从指定远程分支拉取git pull --rebase # 拉取并使用 rebase 合并git push # 推送到远程仓库git push remote branch # 推送到指定远程分支git push -u remote branch # 推送并设置 upstreamgit push --force # 强制推送（慎用）git push --force-with-lease # 安全强制推送 五、撤销与回退1. 撤销工作区修改git checkout -- file # 撤销工作区的修改git restore file # Git 2.23+ 恢复文件 2. 撤销暂存区修改git reset HEAD file # 将文件移出暂存区git restore --staged file # Git 2.23+ 取消暂存 3. 回退提交git reset --soft HEAD~1 # 回退提交但保留修改在暂存区git reset --mixed HEAD~1 # 回退提交且保留修改在工作区（默认）git reset --hard HEAD~1 # 彻底回退（删除修改）git revert commit # 创建新的提交来撤销指定提交git revert HEAD # 撤销最后一次提交git revert --no-commit commit # 撤销但不自动提交 六、暂存与储藏1. 储藏（Stash）git stash # 储藏当前修改git stash save \"message\" # 储藏并添加描述git stash -u # 储藏包括未跟踪的文件git stash -a # 储藏所有文件git stash list # 查看储藏列表git stash show stash@{0} # 查看指定储藏的修改git stash show -p stash@{0} # 查看具体修改内容git stash pop # 恢复最新储藏并删除git stash pop stash@{0} # 恢复指定储藏git stash apply # 恢复最新储藏但不删除git stash apply stash@{0} # 恢复指定储藏但不删除git stash drop stash@{0} # 删除指定储藏git stash clear # 删除所有储藏git stash branch name # 从储藏创建新分支 七、标签管理1. 创建标签git tag tagname # 创建轻量标签git tag -a tagname -m \"msg\" # 创建附注标签git tag tagname commit # 给指定提交打标签 2. 查看标签git tag # 查看所有标签git tag -l \"v1.*\" # 按模式查找标签git show tagname # 查看标签详细信息 3. 操作标签git push origin tagname # 推送标签到远程git push origin --tags # 推送所有标签git tag -d tagname # 删除本地标签git push origin --delete tagname # 删除远程标签 八、比较与差异1. 查看差异git diff # 工作区 vs 暂存区git diff --staged # 暂存区 vs 最新提交git diff HEAD # 工作区 vs 最新提交git diff commit # 工作区 vs 指定提交git diff commit1 commit2 # 两个提交间的差异git diff --name-only # 只显示文件名git diff --stat # 显示统计信息 2. 比较分支git diff branch1..branch2 # 两个分支间的差异git diff branch1...branch2 # 两个分支从共同祖先开始的差异 九、配置管理1. 用户配置git config --global user.name \"Your Name\"git config --global user.email \"email@example.com\"git config --global core.editor \"vim\" # 设置默认编辑器 2. 别名配置git config --global alias.co checkoutgit config --global alias.br branchgit config --global alias.ci commitgit config --global alias.st statusgit config --global alias.lg \"log --oneline --graph --all\" 3. 查看配置git config --list # 查看所有配置git config user.name # 查看特定配置项git config --global --list # 查看全局配置git config --local --list # 查看本地仓库配置 十、高级操作1. Rebase（变基）git rebase branch # 变基到指定分支git rebase -i HEAD~5 # 交互式变基（最近5个提交）git rebase --continue # 继续变基（解决冲突后）git rebase --abort # 终止变基git rebase --skip # 跳过当前提交 2. Cherry-pickgit cherry-pick commit # 应用指定提交git cherry-pick commit1 commit2 # 应用多个提交git cherry-pick --abort # 终止 cherry-pick 3. Bisect（二分查找）git bisect start # 开始二分查找git bisect bad # 标记当前为坏提交git bisect good commit # 标记某个提交为好的git bisect reset # 结束二分查找 4. 子模块git submodule add url path # 添加子模块git submodule init # 初始化子模块git submodule update # 更新子模块git submodule update --init --recursive # 递归初始化和更新 十一、清理与维护1. 清理文件git clean -n # 显示将要清理的文件（预览）git clean -f # 强制清理未跟踪的文件git clean -fd # 清理未跟踪的文件和目录git clean -x # 清理包括忽略的文件 2. 垃圾回收git gc # 垃圾回收，优化仓库git gc --aggressive # 更激进的优化git prune # 删除悬空对象 十二、工作流快速参考日常开发流程# 1. 开始新功能git checkout main # 切换到主分支git pull origin main # 更新到最新git checkout -b feature/new # 创建功能分支# 2. 开发过程git add . # 添加修改git commit -m \"添加新功能\" # 提交git push origin feature/new # 推送到远程# 3. 完成功能git checkout main # 回到主分支git pull origin main # 更新主分支git merge feature/new # 合并功能分支git push origin main # 推送主分支git branch -d feature/new # 删除本地分支 紧急修复流程# 1. 创建修复分支git checkout maingit checkout -b hotfix/urgent# 2. 修复并提交git add .git commit -m \"紧急修复\"git push origin hotfix/urgent# 3. 合并到多个分支git checkout maingit merge hotfix/urgentgit push origin maingit checkout developgit merge hotfix/urgentgit push origin develop 十三、实用技巧1. 查看引用日志git reflog # 查看所有操作记录git reflog show branch # 查看特定分支的操作记录 2. 查看文件历史git blame file # 逐行查看文件修改历史git log -p file # 查看文件的详细修改历史git show commit:file # 查看指定提交的文件内容 3. 重写历史# 注意：这会改变提交历史，只在自己的分支使用git rebase -i HEAD~10 # 交互式修改最近10个提交git filter-branch # 批量修改历史（慎用） 📊 命令速查表 类别 常用命令 用途 初始化 git init, git clone 创建/获取仓库 状态 git status, git log 查看状态和历史 提交 git add, git commit 保存更改 分支 git branch, git checkout 分支管理 合并 git merge, git rebase 合并代码 远程 git remote, git push, git pull 远程协作 撤销 git reset, git revert, git checkout -- 撤销操作 储藏 git stash 临时保存工作 标签 git tag 版本标记","tags":["git"]},{"title":"草稿","path":"/20260116/t95u1b/","content":"插入图片图片如下： 2： 3： a^2+b^2=c^2","tags":["draft"]},{"title":"1 强化学习概述","path":"/20260103/undefined/","content":"强化学习：(再励学习、评价学习）机器学习方法. 本质：解决决策问题，针对具体问题得到一最优策略，使获得奖励最大. 强化学习概述强化学习的背景强化学习方法：起源于动物心理学相关原理，模仿人类和动物学习的试错机制；是一种通过与环境交互，学习状态到行为的映射关系，也即策略，表示在各个状态下，智能体采取的行为或行为概率. 强化学习初探智能体与环境强化学习方法包括智能体(学习者或玩家)和环境(与智能体交互的外部)两大对象. 强化学习原理离散时间序列 ，智能体在每一时间 ，从环境接收状态 ，通过行为 继续与环境交互，而环境产生新的状态 ，并给出一立即回报 ，并不断交互下去， 区分智能体与环境： 方法一： 智能体是存在于环境中，能够与环境进行交互，自主采取行动以完成任务的强化学习系统，系统之外为环境. 扫地机器人的电动机和机械结构及传感器硬件——环境；基于强化学习的路径规划算法——智能体； AlphaGo算法本身——智能体；当前旗局和回报——外部环境； 方法二： 外部环境是不能被智能体随意改变的东西. e.g.回报 智能体主要组成 策略：映射 :状态 行为 值函数： 模型： 策略 决定智能体行为的机制，是状态到行为的映射， \\pi(a\\mid s)=P(A_t=a\\mid S_t=s), 表示智能体在各个状态下各种可能的行为及概率. 策略分类 确定性策略（ ） 随机性策略：根据状态输出每个动作的概率，输出值为概率分布 策略仅和当前的状态有关, 与历史信息无关. 值函数 代表智能体在给定状态下的表现，或给定状态下某行为好坏程度，用未来的期望回报表示. 回报（收益 or 奖励）：从 时刻开始往后所有回报的有衰减的总和 G_t=R_{t+1}+\\gamma R_{t+2}+\\ldots =\\sum_{k=0}^\\infty\\gamma^k R_{t+1+k}, 折扣因子（衰减系数） ：未来的回报在当前时刻价值比例. 接近0：趋向于「近视」性评估； 接近1：偏重考虑远期利益. 值函数类别 状态值函数 ：从状态 开始，遵循当前策略 所获得的期望回报；或表示为在当前策略 下，衡量智能体所处状态 时的价值大小. （状态 的价值大小） V_{\\pi}(s)=E_{\\pi}[G_t\\mid S_t=s]=E_{\\pi}[R_{t+1}+\\gamma R_{t+2}+\\ldots\\mid S_t=s]. 状态行为值函数 ：在执行策略 时，针对当前状态 执行某一具体行为 所获得的期望回报. \\begin{aligned}Q_{\\pi}(s,a)&=E_{\\pi}[G_t\\mid S_t=s,A_t=a]\\\\&=E_{\\pi}[R_{t+1}+\\gamma R_{t+2}+\\ldots\\mid S_t=s,A_t=a].\\end{aligned} 模型 模型 是智能体对环境的一个建模，以智能体的视角看待环境的运行机制，期望模型能模拟环境与智能体的交互机制. 通过给定一个状态和行为，使得该环境模型能够预测下一个状态和立即回报. 环境模型需要解决的问题 状态转换概率 ，预测下一可能状态发生概率; 预测可能获得的立即回报 . 表征环境的动态特性，以预测在状态 采取行动 后，下个状态 的概率分布. 表征在状态 上采取行为 后得到的回报. \\begin{align*}& P^a_{ss'}=P(S_{t+1}=s'\\mid S_t=s,A_t=a),\\\\ & R^a_s=E[R_{t+1}\\mid S_t=s,A_t=a].\\end{align*}若 与 已知, 即表示模型已知. 环境实际运行机制称为 环境动力学.【注】模型不是必需(如蒙特卡洛, 时序差分) 监督学习、非监督学习、强化学习监督学习： 需要人工给定标记，通过对具有标记的训练样本进行学习非监督学习： 无须给定标记，通过对没有标记的训练样本进行学习强化学习：训练样本(智能体与环境交互产生的数据)没有标记，仅有一个延迟回报信号 强化学习的分类根据在解决强化学习问题时是否建立环境动力学模型，分为 模型方法 和无模型方法 . 教材参考：《强化学习》－邹伟－清华大学出版社","tags":["强化学习"]},{"title":"Hello World","path":"/20260101/undefined/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post$ hexo new My New Post More info: Writing Run server$ hexo server More info: Server Generate static files$ hexo generate More info: Generating Deploy to remote sites$ hexo deploy More info: Deployment"},{"title":"Git清空历史","path":"/20251231/undefined/","content":"如何彻底清空 Git 提交历史并重新开始？在长期维护的 Git 项目中，提交记录可能会变得杂乱无章，影响性能和可读性。本篇介绍四种方法彻底清空 Git 提交历史，包括删除 .git 目录、创建无历史分支、使用 git filter-repo 以及手动迁移代码。可以根据项目需求选择最合适的方式。 1. 删除 .git 目录并重新初始化（最干净的方法）如果你想彻底清空所有 Git 记录并从头开始，最简单的方法就是直接删除 .git 目录并重新初始化仓库： rm -rf .git # 删除 Git 目录git init # 重新初始化 Git 仓库git add . # 添加所有文件git commit -m Initial commit # 创建新的提交 优点： 彻底清空所有提交记录。 简单直接。 适用于个人项目或小团队。 缺点： 需要重新设置 .gitignore 文件。 远程仓库关联会丢失，需要手动添加 git remote add origin repo-url。 2. 创建无历史的新分支 (--orphan 方法)如果你希望清空提交历史但仍保留 .git 目录和远程仓库，可以使用 --orphan 创建一个新的无历史分支： git checkout --orphan clean-main 然后添加所有文件并提交： git add .git commit -m Initial commit 删除旧的 main 分支，并将新分支重命名回 main： git branch -D main # 删除旧的 main 分支git branch -m main # 将 clean-main 重命名为 main 如果需要覆盖远程仓库（谨慎操作！）： git push --force origin main 优点： 保留 .git 目录，不影响 Git 相关配置。 代码保留，但所有历史提交会被清空。 缺点： 远程仓库需要强制推送，可能影响团队成员。 3. 使用 git filter-repo 清理提交历史（适用于大项目）如果你的项目非常大，历史提交太多，Git 官方推荐使用 git filter-repo（比 git filter-branch 更高效）： git filter-repo --path . --force 然后强制推送到远程仓库： git push --force --all 优点： 高效，适用于大仓库。 清理提交历史但保留 .git 目录。 缺点： 需要安装 git filter-repo。 如果未安装，可以使用以下命令安装（适用于 macOS）： brew install git-filter-repo 4. 复制代码到新仓库（最彻底的方法）如果你希望彻底摆脱所有历史记录，并创建一个全新的仓库，最干净的方法是手动复制代码： 创建一个新目录，然后复制你的代码（不包括 .git 目录）。 进入新目录，初始化 Git： git initgit add .git commit -m Initial commit 如果有远程仓库，重新添加它： git remote add origin repo-urlgit push -u origin main --force 优点： 绝对干净，没有任何历史遗留问题。 适合长期维护的大型项目。 缺点： 需要手动迁移远程仓库。 远程仓库的旧记录仍然可能存在（可选择删除并重新创建仓库）。 方法对比总结 方法 适用情况 是否保留 .git 是否需要远程强制推送 删除 .git 重新初始化 彻底重置，最简单 ❌ 否 ✅ 需要 创建无历史新分支 只想清空提交记录 ✅ 是 ✅ 需要 git filter-repo 清理历史 处理大仓库，官方推荐 ✅ 是 ✅ 需要 手动复制到新仓库 最干净，适合长期维护 ❌ 否 ✅ 需要 如果你只是想让提交记录清零，同时保留远程仓库，方法 2（--orphan） 是比较推荐的。如果你完全不在乎历史，方法 1（删除 .git） 最直接。","tags":["git","配置"],"categories":["说明"]},{"title":"探索","path":"/explore/index.html","content":"…"},{"title":"关于","path":"/about/index.html","content":"关于本站 你好，旅行者💫"}]